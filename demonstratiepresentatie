#include <Servo.h>

// motor 1
int enA = 11; //pin voor de snelheidscontrole
int in1 = 13; //pins voor voor- en achteruit
int in2 = 12;
//motor 2
int enB = 6;
int in3 = 8;
int in4 = 7;

//dit zijn de pins die aangeven of de sensoren iets hebben geregistreerd
int sensor1 = 5;
int sensor2 = 4;
int sensor3 = 3;
int sensor4 = 2;

Servo myservo; //maakt een servo-object om de servo mee te besturen

int pos = 0; //een variabele om de positie van de servo in te bewaren

void setup() {
  //de pins die naar de H-bridge gaan zijn allemaal outputs
  pinMode(enA, OUTPUT);
  pinMode(enB, OUTPUT);
  pinMode(in1, OUTPUT);
  pinMode(in2, OUTPUT);
  pinMode(in3, OUTPUT);
  pinMode(in4, OUTPUT);

  //de pins van het sensorbord zijn allemaal inputs
  pinMode(sensor1, INPUT);
  pinMode(sensor2, INPUT);
  pinMode(sensor3, INPUT);
  pinMode(sensor4, INPUT);

  //maakt de servo op het servo-object vast aan pin 9
  myservo.attach(12);
}


void loop(){
 //motor 1 gata aar voren met snelheid 180/255
 digitalWrite(in1, HIGH);
 digitalWrite(in2, LOW);
 // maakt de snelheid van de motor 180 deze komt uit de range van 0-255
 analogWrite(enA, 200);
 // turn on motor B
 digitalWrite(in3, HIGH);
 digitalWrite(in4, LOW);
 // maakt de snelheid van de motor 180 deze komt uit de range van 0-255
 analogWrite(enB, 200);
 delay(2500);
 
 //snelheid verminderen, daarna gaat de auto de eerste bocht om
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(170);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de tweede bocht
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(170);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de derde bocht
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(170);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de derde bocht
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(170);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de vierde bocht, ditmaal in de tegenovergestelde richting
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(10);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de vijfde bocht
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(10);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de zesde bocht
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(10);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //de zevende bocht
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(10);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);

 //na deze bocht is de auto weer bij zijn beginpunt
 analogWrite(enA, 50);
 analogWrite(enB, 50);
 myservo.write(170);
 delay(1300);
 //na de bocht versnelt de auto
 analogWrite(enA, 180);
 analogWrite(enB, 180);
 delay(2500);
}
